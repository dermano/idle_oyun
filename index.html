<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İdle Kaynak Oyunu</title>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5V6BJHXH');</script>
    <!-- End Google Tag Manager -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V6BJHXH"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div class="game-background">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-crown"></i> İdle Kaynak Oyunu</h1>
                <div class="player-info">
                    <div class="level-info">
                        <span class="level">Seviye: <span id="playerLevel">1</span></span>
                        <div class="xp-bar">
                            <div class="xp-progress"></div>
                        </div>
                        <span class="xp">TP: <span id="playerXP">0</span> / <span id="xpRequired">100</span></span>
                    </div>
                </div>
                <div class="visitor-stats">
                    <div class="stat-item">
                        <i class="fas fa-users"></i>
                        <span>Çevrimiçi: <span id="onlineUsers">0</span></span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-chart-line"></i>
                        <span>Toplam: <span id="totalVisits">0</span></span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-users"></i>
                        <span>Ziyaretçiler: <span id="pageViews">-</span></span>
                    </div>
                </div>
            </div>
            
            <div class="resources">
                <div class="resource gold-resource">
                    <div class="resource-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <h2>Altın</h2>
                    <p id="gold">0</p>
                    <p class="rate">+<span id="goldRate">0</span>/sn</p>
                    <button onclick="clickGold()" class="collect-btn">
                        <i class="fas fa-hand-pointer"></i> Altın Topla
                    </button>
                </div>
                <div class="resource wood-resource">
                    <div class="resource-icon">
                        <i class="fas fa-tree"></i>
                    </div>
                    <h2>Odun</h2>
                    <p>Odun: <span id="wood">0</span></p>
                    <p class="rate">+<span id="woodRate">0</span>/sn</p>
                    <button onclick="convertWoodToGold()" class="collect-btn">
                        <i class="fas fa-coins"></i> Altına Çevir
                    </button>
                </div>
                <div class="resource stone-resource">
                    <div class="resource-icon">
                        <i class="fas fa-mountain"></i>
                    </div>
                    <h2>Taş</h2>
                    <p>Taş: <span id="stone">0</span></p>
                    <p class="rate">+<span id="stoneRate">0</span>/sn</p>
                    <button onclick="convertStoneToGold()" class="collect-btn">
                        <i class="fas fa-coins"></i> Altına Çevir
                    </button>
                </div>
                <div class="resource iron-resource">
                    <div class="resource-icon">
                        <i class="fas fa-hammer"></i>
                    </div>
                    <h2>Demir</h2>
                    <p>Demir: <span id="iron">0</span></p>
                    <p class="rate">+<span id="ironRate">0</span>/sn</p>
                    <button onclick="convertIronToGold()" class="collect-btn">
                        <i class="fas fa-coins"></i> Altına Çevir
                    </button>
                </div>
            </div>

            <div class="upgrades">
                <h2><i class="fas fa-arrow-up"></i> Yükseltmeler</h2>
                
                <div class="upgrade-category">
                    <h3><i class="fas fa-coins"></i> Altın Madencileri</h3>
                    <div class="upgrade gold-miner">
                        <div class="upgrade-info">
                            <div class="upgrade-details">
                                <h4>Seviye <span id="goldMinerLevel">1</span></h4>
                                <p>Üretim: <span id="goldMinerProduction">1</span>/sn</p>
                            </div>
                            <button onclick="buyAutoGoldMiner()" class="upgrade-btn" id="goldMinerBtn">
                                Geliştir (<span id="goldMinerCost">50</span> Altın)
                            </button>
                        </div>
                        <div class="progress-bar">
                            <div class="progress gold-progress"></div>
                        </div>
                    </div>
                </div>

                <div class="upgrade-category">
                    <h3><i class="fas fa-tree"></i> Oduncular</h3>
                    <div class="upgrade woodcutter">
                        <div class="upgrade-info">
                            <div class="upgrade-details">
                                <h4>Seviye <span id="woodcutterLevel">1</span></h4>
                                <p>Üretim: <span id="woodcutterProduction">1</span>/sn</p>
                            </div>
                            <button onclick="buyAutoWoodcutter()" class="upgrade-btn" id="woodcutterBtn">
                                Geliştir (<span id="woodcutterCost">30</span> Altın)
                            </button>
                        </div>
                        <div class="progress-bar">
                            <div class="progress wood-progress"></div>
                        </div>
                    </div>
                </div>

                <div class="upgrade-category">
                    <h3><i class="fas fa-mountain"></i> Taş Madencileri</h3>
                    <div class="upgrade stone-miner">
                        <div class="upgrade-info">
                            <div class="upgrade-details">
                                <h4>Seviye <span id="stoneMinerLevel">1</span></h4>
                                <p>Üretim: <span id="stoneMinerProduction">1</span>/sn</p>
                            </div>
                            <button onclick="buyAutoStoneMiner()" class="upgrade-btn" id="stoneMinerBtn">
                                Geliştir (<span id="stoneMinerCost">100</span> Altın)
                            </button>
                        </div>
                        <div class="progress-bar">
                            <div class="progress stone-progress"></div>
                        </div>
                    </div>
                </div>

                <div class="upgrade-category">
                    <h3><i class="fas fa-hammer"></i> Demir Madencileri</h3>
                    <div class="upgrade iron-miner">
                        <div class="upgrade-info">
                            <div class="upgrade-details">
                                <h4>Seviye <span id="ironMinerLevel">1</span></h4>
                                <p>Üretim: <span id="ironMinerProduction">1</span>/sn</p>
                            </div>
                            <button onclick="buyAutoIronMiner()" class="upgrade-btn" id="ironMinerBtn">
                                Geliştir (<span id="ironMinerCost">200</span> Altın)
                            </button>
                        </div>
                        <div class="progress-bar">
                            <div class="progress iron-progress"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="task-menu">
                <h3>Görevler</h3>
                <ul id="taskList">
                    <li id="task1" onclick="startTask('task1')">
                        10 saniye içinde 50 altın topla!
                        <span class="task-reward">Ödül: 100 altın, 20 TP</span>
                    </li>
                    <li id="task2" onclick="startTask('task2')">
                        5 saniye içinde 20 odun topla!
                        <span class="task-reward">Ödül: 150 altın, 25 TP</span>
                    </li>
                    <li id="task3" onclick="startTask('task3')">
                        3 saniye içinde 10 taş topla!
                        <span class="task-reward">Ödül: 200 altın, 30 TP</span>
                    </li>
                </ul>
            </div>

            <div class="difficulty-levels">
                <h3>Zorluk Seviyeleri</h3>
                <ul>
                    <li>Başlangıç: Düşük kaynak miktarı, yavaş üretim hızı.</li>
                    <li>Orta: Orta kaynak miktarı, normal üretim hızı.</li>
                    <li>İleri Seviye: Yüksek kaynak miktarı, hızlı üretim hızı.</li>
                    <li>Uzman: Çok yüksek kaynak miktarı, çok hızlı üretim hızı.</li>
                </ul>
                <p id="difficultyDisplay"></p>
            </div>
            <p id="challengeDisplay"></p>

            <div class="save-load-section">
                <h3>Kayıt İşlemleri</h3>
                <div class="save-slot">
                    <p>Kayıt Yuvası 1</p>
                    <p class="save-time" id="saveTime1">Son kayıt: -</p>
                    <div class="save-buttons">
                        <button onclick="saveToSlot(1)" class="save-btn">
                            <i class="fas fa-save"></i> Kaydet
                        </button>
                        <button onclick="loadFromSlot(1)" class="save-btn">
                            <i class="fas fa-folder-open"></i> Yükle
                        </button>
                        <button onclick="deleteSlot(1)" class="save-btn delete-btn">
                            <i class="fas fa-trash"></i> Sil
                        </button>
                    </div>
                </div>
            </div>

            <div class="click-section">
                <div class="click-area" id="clickArea">
                    <i class="fas fa-hand-pointer"></i>
                    <span class="click-points">+1</span>
                </div>
                <div class="click-stats">
                    <p>Tıklama Puanı: <span id="clickPoints">0</span></p>
                    <p>Tıklama Gücü: <span id="clickPower">1</span></p>
                </div>
            </div>

            <div class="reset-section">
                <button id="settingsBtn" class="control-btn settings-btn">
                    <i class="fas fa-cog"></i> Ayarlar
                </button>
                <button onclick="confirmReset()" class="control-btn">
                    <i class="fas fa-redo"></i> Oyunu Sıfırla
                </button>
            </div>

            <!-- Ayarlar menüsü -->
            <div id="settingsMenu" class="settings-menu">
                <div class="settings-content">
                    <h2>Ayarlar</h2>
                    
                    <!-- Ses Ayarları -->
                    <div class="settings-section">
                        <h3>Ses Ayarları</h3>
                        <div class="setting-item">
                            <label for="soundVolume">Ses Efektleri</label>
                            <input type="range" id="soundVolume" min="0" max="100" value="50">
                            <span id="soundVolumeValue">50%</span>
                        </div>
                        <div class="setting-item">
                            <label for="soundEnabled">Ses Efektleri Açık</label>
                            <input type="checkbox" id="soundEnabled" checked>
                        </div>
                    </div>
                    
                    <!-- Müzik Kontrolleri -->
                    <div class="settings-section">
                        <h3>Müzik Kontrolleri</h3>
                        <div class="music-controls">
                            <button id="prevTrack" class="music-control-btn">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button id="toggleMusic" class="music-control-btn">
                                <i class="fas fa-play"></i>
                            </button>
                            <button id="nextTrack" class="music-control-btn">
                                <i class="fas fa-step-forward"></i>
                            </button>
                        </div>
                        <p id="currentTrack">Şu an çalan: -</p>
                    </div>

                    <!-- Kayıt İşlemleri -->
                    <div class="settings-section">
                        <h3>Kayıt İşlemleri</h3>
                        <div class="save-buttons">
                            <button onclick="saveToSlot(1)" class="save-btn">
                                <i class="fas fa-save"></i> Kaydet
                            </button>
                            <button onclick="loadFromSlot(1)" class="save-btn">
                                <i class="fas fa-folder-open"></i> Yükle
                            </button>
                            <button onclick="deleteSlot(1)" class="save-btn delete-btn">
                                <i class="fas fa-trash"></i> Sil
                            </button>
                        </div>
                        <p class="save-time" id="saveTime1">Son kayıt: -</p>
                    </div>

                    <button id="closeSettings" class="close-btn">
                        <i class="fas fa-times"></i> Kapat
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script>
        function checkDifficultyLevel() {
            if (playerLevel >= 1 && playerLevel < 5) {
                currentDifficulty = 'Başlangıç';
            } else if (playerLevel >= 5 && playerLevel < 10) {
                currentDifficulty = 'Orta';
            } else if (playerLevel >= 10 && playerLevel < 15) {
                currentDifficulty = 'İleri Seviye';
            } else {
                currentDifficulty = 'Uzman';
            }
            updateDifficultyDisplay();
        }

        function updateDifficultyDisplay() {
            const difficultyElement = document.getElementById('difficultyDisplay');
            difficultyElement.textContent = `Mevcut Zorluk: ${currentDifficulty}`;
        }
    </script>
    <script>
        function updateResources() {
            if (currentDifficulty === 'Başlangıç') {
                gold += 10;
                wood += 5;
                stone += 2;
                iron += 1;
            } else if (currentDifficulty === 'Orta') {
                gold += 20;
                wood += 10;
                stone += 5;
                iron += 3;
            } else if (currentDifficulty === 'İleri Seviye') {
                gold += 30;
                wood += 15;
                stone += 10;
                iron += 5;
            } else if (currentDifficulty === 'Uzman') {
                gold += 50;
                wood += 25;
                stone += 15;
                iron += 10;
            }
            updateDisplay();
        }
    </script>
    <script>
        function createChallenges() {
            const challengeList = [
                { description: '10 saniye içinde 50 altın topla!', target: 50, time: 10 },
                { description: '5 saniye içinde 20 odun topla!', target: 20, time: 5 },
                { description: '3 saniye içinde 10 taş topla!', target: 10, time: 3 },
                { description: '15 saniye içinde 100 altın topla!', target: 100, time: 15 }
            ];

            const randomChallenge = challengeList[Math.floor(Math.random() * challengeList.length)];
            displayChallenge(randomChallenge);
        }

        function displayChallenge(challenge) {
            const challengeElement = document.getElementById('challengeDisplay');
            challengeElement.textContent = challenge.description;
            setTimeout(() => {
                challengeElement.textContent = '';
            }, challenge.time * 1000);
        }
    </script>
    <script>
        setInterval(() => {
            createChallenges();
        }, 3600000);
    </script>
    <script src="game.js"></script>
</body>
</html>
